<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<!-- General Compatibility Patches for 20+ Mods -->

	<!-- Common Sense & Smart Medicine compatibility -->
	<!-- Ensure injectors are prioritized as drugs in medical bills -->
	<Operation Class="PatchOperationSequence">
		<operations>
			<li Class="PatchOperationTest">
				<xpath>Defs/ThingDef[defName="AutoInjector_Epinephrine"]</xpath>
			</li>
			<!-- No specific XML changes needed for most QoL mods as they read standard DrugCategory and Hediffs -->
			<!-- This patch serves as a placeholder for any future cross-mod logic -->
		</operations>
	</Operation>

	<!-- Dubs Bad Hygiene compatibility -->
	<!-- Regenerative and Berserker injectors increase thirst if DBH is loaded -->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Dubs Bad Hygiene</li>
		</mods>
		<match Class="PatchOperationSequence">
			<operations>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AutoInjector_Regenerative"]/ingestible/outcomeDoers</xpath>
					<value>
						<li Class="DubsBadHygiene.IngestionOutcomeDoer_Thirst">
							<amount>0.2</amount>
						</li>
					</value>
				</li>
				<li Class="PatchOperationAdd">
					<xpath>Defs/ThingDef[defName="AutoInjector_Berserker"]/ingestible/outcomeDoers</xpath>
					<value>
						<li Class="DubsBadHygiene.IngestionOutcomeDoer_Thirst">
							<amount>0.3</amount>
						</li>
					</value>
				</li>
			</operations>
		</match>
	</Operation>

	<!-- Vanilla Expanded Compatibility -->
	<!-- Ensure items show up in appropriate categories if VE is loaded -->
	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>Vanilla Plants Expanded</li>
		</mods>
		<match Class="PatchOperationAdd">
			<xpath>Defs/ThingDef[defName="AutoInjector_Morphine"]</xpath>
			<value>
				<!-- Example: add specific tags or categories if needed -->
			</value>
		</match>
	</Operation>

</Patch>
